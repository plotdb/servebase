extends /base.pug
block body
  .ldcv(ld="ldcv", data-name="account-info"): .base.rwd: .inner.p-4
  .ldcv(ld="ldcv", data-name="change-password"): .base.rwd: .inner.p-4
  .ldcv.mini.bottom.left.right(data-name="cookie-consent"): .base: .inner.p-2.px-3
    .d-flex.justify-content-center.align-items-center
      .mr-1 By continuing to browse, you agree to our use of cookies.
      .d-none.d-lg-block For more details please check our privacy policy.
      .d-none.d-md-block.ml-4
      div
        a.btn.border.mr-2.my-1.py-0(href="/privacy/") Details
        .btn.border.my-1.py-0(data-ldcv-set="") OK
  include /modules/navtop.pug
  .w-1024.rwd.mx-auto.py-4
    .row
      .col-md.mb-4
        h4 Authentication
        hr
        div
          b Current Status
          p(ld="status") Not login
        div
          b User Name
          p(ld="username") n/a
        div
          b User Id
          p(ld="userid") n/a
        .btn.btn-primary.mr-2(ld="signup not-signed") Sign Up
        .btn.btn-primary.mr-2(ld="login not-signed") Login
        .btn.btn-primary.mr-2.d-none(ld="logout signed") Logout
        .btn.btn-primary.mr-2.d-none(ld="wipe signed") Wipe
        .btn.btn-primary.mr-2(ld="reauth") Re-auth
        .btn.btn-primary.mr-2.d-none(ld="mail-verify signed") Verify Mail
        +nbr(2)
        .btn.btn-sm.btn-outline-secondary.mr-2(ld="notify") Send notify
        .btn.btn-sm.btn-outline-secondary.mr-2(ld="captcha") Captcha
        .btn.btn-sm.btn-outline-secondary.mr-2(ld="captcha",data-type="all") Captcha (All)
        .btn.btn-sm.btn-outline-secondary.mr-2(ld="audit-test") Audit Test
        .card.my-2: .card-body
          div(ld="hcaptcha")
          .d-flex.g-2
            .btn.btn-outline-secondary(ld="hcaptcha-done") Submit for hCaptcha
            .btn.btn-outline-secondary(ld="post-test") Post Test Data
        .input-group.my-2
          input.form-control(ld="invite-token",placeholder="invite token")
          input.form-control(ld="invite-token-count",placeholder="token count")
          .input-group-append
            .btn.btn-outline-secondary(ld="create-invite-token") Create Invite Token

        .input-group.my-2
          input.form-control(ld="password-reset-email")
          .input-group-append
            .btn.btn-outline-secondary(ld="password-reset") Send Password Reset Link
        .input-group.my-2
          input.form-control(ld="cover-name",placeholder="cover name")
          .input-group-append
            .btn.btn-outline-secondary(ld="toggle-cover") Show Cover Dialog
        .input-group.my-2
          input.form-control(ld="error-code",placeholder="error code")
          .input-group-append
            .btn.btn-outline-secondary(ld="toggle-error") Show Error Dialog
        .input-group.my-2
          input.form-control(ld="block-code",placeholder="block definition")
          .input-group-append
            .btn.btn-outline-secondary(ld="toggle-block") Show Block Dialog
        .d-flex.g-2
          .btn.btn-outline-secondary(
          onclick='lda.ldcvmgr.get({ns: "local", name: "sample"})') Sample Block
          .btn.btn-outline-secondary(ld="error") Sample Error
          .btn.btn-outline-secondary(ld="unhandled-rejection") Unhandled Rejection
          .btn.btn-outline-secondary.d-none(ld="toggle-ldcv signed",data-name="account-info") Account Info
          .btn.btn-outline-secondary.d-none(ld="toggle-ldcv signed",data-name="change-password") Change Password

        .my-5
          h3.mb-1 Payment
          .mb-3 Purchase "Generic Goods", Spend 2.99 USD
          .font-weight-bold.text-underline.mb-1 Payment Gateway
          .d-flex.g-2
            .btn.btn-primary(ld="pay", data-name="newebpay") 藍新金流
            .btn.btn-primary(ld="pay", data-name="dummy") Dummy Gateway
            .btn.btn-primary(ld="pay", data-name="no") Unsupported Gateway

      .col-md.mb-4

        div(ld="admin",ld-scope)
          h4 Admin Operations
          hr
          .d-flex.mb-2.g-2
            .btn.btn-sm.btn-primary(ld="throttle-reset") Throttle Reset
            .btn.btn-sm.btn-primary(ld="local-storage-reset") Local Storage Reset
            .btn.btn-sm.btn-primary(ld="refresh-cachestamp") Fresh cachestamp
            .btn.btn-sm.btn-primary(ld="get-cachestamp") Get cachestamp
          br
          b Search User
          .input-group.mb-2
            input.form-control(ld="keyword",placeholder="email or user key ... ",aria-label="keyword")
            .input-group-append
              .btn.btn-outline-secondary(ld="search") Search
          .pb-4
            .text-center.p-4(ld="nouser") no user found
            .list-group.shadow-sm: .list-group-item.p-1.d-flex(ld-each="user")
              .btn(ld="username")
              .btn(ld="displayname")
              .flex-grow-1
              .dropdown(ld="dropdown")
                .btn.dropdown-toggle(data-toggle="dropdown") Action
                .dropdown-menu.shadow-sm.dropdown-menu-right
                  .dropdown-item(ld="su") Su
                  .dropdown-item(ld="change-email") Change Email
                  .dropdown-item(ld="change-password") Change Password
                  .dropdown-item(ld="random-password") Random Password
                  .dropdown-item(ld="force-logout") Force Logout
                  .dropdown-item(ld="delete-user") Delete User
          .pb-4
            h5 Add User
            hr
            .form-group
              b username
              input.form-control(ld="adduser.username",aria-label="username")
            .form-group
              b displayname
              input.form-control(ld="adduser.displayname",aria-label="displayname")
            .form-group
              b password #[span.text-sm / left empty for auto generation]
              input.form-control(ld="adduser.password",type="password",aria-label="password")
            .btn.btn-primary(ld="adduser") Add User
          div
            h5 Delete User
            hr
            .form-group
              b username
              input.form-control(ld="deluser.username",aria-label="username")
            .btn.btn-primary(ld="deluser") Delete User
          div
            h5 Verify User
            .form-group
              b username or key
              input.form-control(ld="verifyuser.username",aria-label="username")
            .d-flex.g-2
              .btn.btn-primary(ld="verifyuser",data-toggle="yes") Verify
              .btn.btn-primary(ld="verifyuser",data-toggle="no") Un-Verify

  +nbr(2)
  #pivot
  .w-1024.rwd.mx-auto.p-4.shadow.rounded.border: div(ld="discuss")
  +nbr(10)

block script
  script(type="module")
    include:lsc index.ls
    include:lsc admin.ls
